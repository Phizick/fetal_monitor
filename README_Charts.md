# –ü–ª–∞–≤–Ω—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Ñ–µ—Ç–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è

JavaScript —Ä–µ—à–µ–Ω–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–ª–∞–≤–Ω—ã—Ö –≥—Ä–∞—Ñ–∏–∫–æ–≤ –∫–∞–∫ –≤ Python Plotly, —Ä–∞–±–æ—Ç–∞—é—â–∏–µ —Å –≤–∞—à–∏–º API.

## üéØ –ü—Ä–æ–±–ª–µ–º–∞

–í React –Ω–µ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å —Ç–∞–∫–∏–µ –∂–µ –ø–ª–∞–≤–Ω—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏ –∫–∞–∫ –≤ Python –≤–µ—Ä—Å–∏–∏ —Å Plotly. –ù—É–∂–Ω–æ —Ä–µ—à–µ–Ω–∏–µ —Å:
- –ü–ª–∞–≤–Ω—ã–º–∏ —Å–≥–ª–∞–∂–µ–Ω–Ω—ã–º–∏ –ª–∏–Ω–∏—è–º–∏ (spline)
- –†–∞–±–æ—Ç–æ–π –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –°–∫–æ–ª—å–∑—è—â–∏–º –æ–∫–Ω–æ–º –¥–∞–Ω–Ω—ã—Ö
- –¢–µ–º–Ω–æ–π —Ç–µ–º–æ–π –∫–∞–∫ –≤ –æ—Ä–∏–≥–∏–Ω–∞–ª–µ

## ‚úÖ –†–µ—à–µ–Ω–∏—è

### 1. React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

**–§–∞–π–ª—ã:**
- `FetalMonitoringChart.jsx` - –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- `App.jsx` - –ø—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- `App.css` - —Å—Ç–∏–ª–∏
- `package.json` - –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- ‚úÖ –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å React
- ‚úÖ –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- ‚úÖ –ö–∞—Å—Ç–æ–º–Ω—ã–π –ø–ª–∞–≥–∏–Ω –¥–ª—è —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏—è
- ‚úÖ TypeScript –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω

### 2. Vanilla JavaScript (—É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–µ)

**–§–∞–π–ª—ã:**
- `fetal-chart-vanilla.js` - –∫–ª–∞—Å—Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
- `index.html` - –ø—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ React
- ‚úÖ –õ–µ–≥–∫–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è –≤ –ª—é–±–æ–π –ø—Ä–æ–µ–∫—Ç
- ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- ‚úÖ –ü—Ä–æ—Å—Ç–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### React –≤–µ—Ä—Å–∏—è

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
```bash
npm install chart.js react-chartjs-2 chartjs-adapter-date-fns date-fns
```

2. **–ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç:**
```jsx
import FetalMonitoringChart from './FetalMonitoringChart';

function App() {
  return (
    <FetalMonitoringChart 
      apiUrl="http://localhost:8080"
      windowSize={15}
      enableSmoothing={true}
    />
  );
}
```

3. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤–∞—à Python API:**
```bash
python realtime_api.py
```

### Vanilla JavaScript –≤–µ—Ä—Å–∏—è

1. **–î–æ–±–∞–≤—å—Ç–µ Chart.js –≤ HTML:**
```html
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns"></script>
<script src="fetal-chart-vanilla.js"></script>
```

2. **–°–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:**
```html
<div id="fetal-chart"></div>
```

3. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –≥—Ä–∞—Ñ–∏–∫:**
```javascript
const chart = new FetalMonitoringChart('fetal-chart', {
  apiUrl: 'http://localhost:8080',
  windowSize: 15,
  enableSmoothing: true
});
```

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –°–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–æ–≤

–û–±–µ –≤–µ—Ä—Å–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∫–∞—Å—Ç–æ–º–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏—è:

**React –≤–µ—Ä—Å–∏—è:**
```javascript
const smoothLinePlugin = {
  id: 'smoothLine',
  beforeDraw: (chart) => {
    // –ò—Å–ø–æ–ª—å–∑—É–µ—Ç quadraticCurveTo –¥–ª—è –ø–ª–∞–≤–Ω—ã—Ö –∫—Ä–∏–≤—ã—Ö
    // –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ shape: 'spline' –≤ Plotly
  }
};
```

**Vanilla –≤–µ—Ä—Å–∏—è:**
```javascript
// –ò—Å–ø–æ–ª—å–∑—É–µ—Ç tension: 0.4 –≤ Chart.js
tension: this.options.enableSmoothing ? 0.4 : 0
```

### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ API

–û–±–µ –≤–µ—Ä—Å–∏–∏ –ø–æ–¥–∫–ª—é—á–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ Server-Sent Events:

```javascript
const eventSource = new EventSource(`${apiUrl}/stream/sse`);
eventSource.onmessage = (event) => {
  const data = JSON.parse(event.data);
  updateData(data);
};
```

### –°–∫–æ–ª—å–∑—è—â–µ–µ –æ–∫–Ω–æ

–î–∞–Ω–Ω—ã–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è—é—Ç—Å—è –ø–æ –∏—Å—Ç–µ—á–µ–Ω–∏–∏ –≤—Ä–µ–º–µ–Ω–∏:

```javascript
const windowMs = windowSize * 1000;
data = data.filter(point => now - point.x <= windowMs);
```

## üìä –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|--------------|----------|
| `apiUrl` | string | `'http://localhost:8080'` | URL –≤–∞—à–µ–≥–æ API |
| `windowSize` | number | `15` | –†–∞–∑–º–µ—Ä –æ–∫–Ω–∞ –¥–∞–Ω–Ω—ã—Ö –≤ —Å–µ–∫—É–Ω–¥–∞—Ö |
| `updateInterval` | number | `100` | –ò–Ω—Ç–µ—Ä–≤–∞–ª –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤ –º—Å |
| `enableSmoothing` | boolean | `true` | –í–∫–ª—é—á–∏—Ç—å —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ |
| `showPathology` | boolean | `true` | –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–∞—Ç–æ–ª–æ–≥–∏–∏ |
| `showMedications` | boolean | `true` | –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø—Ä–µ–ø–∞—Ä–∞—Ç—ã |

## üé® –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è

### –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞ (–∫–∞–∫ –≤ Python)
- **–§–æ–Ω**: `#0b1220` (—Ç–µ–º–Ω–æ-—Å–∏–Ω–∏–π)
- **–¢–µ–∫—Å—Ç**: `#e6edf3` (—Å–≤–µ—Ç–ª–æ-—Å–µ—Ä—ã–π)
- **FHR –≥—Ä–∞—Ñ–∏–∫**: `#4ade80` (–∑–µ–ª–µ–Ω—ã–π)
- **UC –≥—Ä–∞—Ñ–∏–∫**: `#60a5fa` (—Å–∏–Ω–∏–π)
- **–ü–∞—Ç–æ–ª–æ–≥–∏–∏**: `#7f1d1d` (–∫—Ä–∞—Å–Ω—ã–π)

### –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ú–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è
- –ì–∏–±–∫–∞—è —Å–µ—Ç–∫–∞ –≥—Ä–∞—Ñ–∏–∫–æ–≤

## üîå API —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç —Å –≤–∞—à–∏–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º API:

```json
{
  "timestamp": "2025-01-24T12:00:00.000Z",
  "t_ms": 123456,
  "fhr_bpm": 142,
  "uc_mmHg": 32.5,
  "baseline_bpm": 140,
  "variability_bpm": 6.0,
  "accel": false,
  "decel": true,
  "pathology": false,
  "pathology_desc": "",
  "pathologies": [],
  "medications": []
}
```

## ‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- **–ë–µ–∑ –∞–Ω–∏–º–∞—Ü–∏–∏**: `animation: { duration: 0 }`
- **–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: `update('none')`
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- **–ü–ª–∞–≤–Ω–∞—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∞**: `requestAnimationFrame`

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `windowSize` 10-20 —Å–µ–∫—É–Ω–¥
- `updateInterval` 100-200 –º—Å
- –í–∫–ª—é—á–∞–π—Ç–µ —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ –¥–ª—è –ª—É—á—à–µ–≥–æ –≤–∏–¥–∞

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ì—Ä–∞—Ñ–∏–∫ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ API –∑–∞–ø—É—â–µ–Ω
2. –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ URL
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
4. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞

### –î–∞–Ω–Ω—ã–µ –Ω–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ `/stream/sse`
2. –£–±–µ–¥–∏—Ç–µ—Å—å –≤ —Ñ–æ—Ä–º–∞—Ç–µ –¥–∞–Ω–Ω—ã—Ö API
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ `windowSize`

### –ì—Ä–∞—Ñ–∏–∫ –Ω–µ –ø–ª–∞–≤–Ω—ã–π
1. –í–∫–ª—é—á–∏—Ç–µ `enableSmoothing: true`
2. –£–º–µ–Ω—å—à–∏—Ç–µ `updateInterval`
3. –£–≤–µ–ª–∏—á—å—Ç–µ `windowSize`

## üìà –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å Python –≤–µ—Ä—Å–∏–µ–π

| –§—É–Ω–∫—Ü–∏—è | Python Plotly | JavaScript Chart.js |
|---------|---------------|---------------------|
| –°–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ | `shape: 'spline'` | –ö–∞—Å—Ç–æ–º–Ω—ã–π –ø–ª–∞–≥–∏–Ω |
| –†–µ–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è | ‚úÖ | ‚úÖ |
| –°–∫–æ–ª—å–∑—è—â–µ–µ –æ–∫–Ω–æ | ‚úÖ | ‚úÖ |
| –¢–µ–º–Ω–∞—è —Ç–µ–º–∞ | ‚úÖ | ‚úÖ |
| –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å | ‚úÖ | ‚úÖ |
| –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å | –•–æ—Ä–æ—à–∞—è | –û—Ç–ª–∏—á–Ω–∞—è |

## üîÑ –ú–∏–≥—Ä–∞—Ü–∏—è —Å Python

1. **–ó–∞–º–µ–Ω–∏—Ç–µ Plotly –Ω–∞ Chart.js**
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Server-Sent Events –≤–º–µ—Å—Ç–æ WebSocket**
3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ –ø–ª–∞–≥–∏–Ω**
4. **–ê–¥–∞–ø—Ç–∏—Ä—É–π—Ç–µ —Å—Ç–∏–ª–∏ –ø–æ–¥ –≤–∞—à—É —Ç–µ–º—É**

## üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ (React)
```jsx
<FetalMonitoringChart 
  apiUrl="http://localhost:8080"
  windowSize={15}
  enableSmoothing={true}
  showPathology={true}
  showMedications={true}
/>
```

### –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ (Vanilla JS)
```javascript
const chart = new FetalMonitoringChart('container', {
  apiUrl: 'http://localhost:8080',
  windowSize: 15,
  enableSmoothing: true
});
```

### –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è —Å—Ç–∏–ª–µ–π
```css
.fetal-monitoring-chart {
  background: #your-color;
  border-radius: 12px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}
```

## üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
```bash
# React
npm start

# Vanilla JS
# –ü—Ä–æ—Å—Ç–æ –æ—Ç–∫—Ä–æ–π—Ç–µ index.html –≤ –±—Ä–∞—É–∑–µ—Ä–µ
```

### –ü—Ä–æ–¥–∞–∫—à–Ω
```bash
# React
npm run build

# Vanilla JS
# –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä
```

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–≤–æ–±–æ–¥–Ω–æ –≤ —Å–≤–æ–∏—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö.

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞
2. –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ API
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
4. –°–æ–∑–¥–∞–π—Ç–µ issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏

---

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –¢–µ–ø–µ—Ä—å —É –≤–∞—Å –µ—Å—Ç—å –ø–ª–∞–≤–Ω—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏ –≤ JavaScript, –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ—á–Ω–æ —Ç–∞–∫ –∂–µ –∫–∞–∫ –≤ Python –≤–µ—Ä—Å–∏–∏! üéâ
