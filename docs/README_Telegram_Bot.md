# Telegram –ë–æ—Ç –¥–ª—è –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –í—Ä–∞—á–µ–π

## –û–ø–∏—Å–∞–Ω–∏–µ

Telegram –±–æ—Ç –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤—Ä–∞—á–∞–º –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –ø–∞—Ü–∏–µ–Ω—Ç–æ–∫ –≤ —Å–∏—Å—Ç–µ–º–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –ö–¢–ì.

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### 1. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–µ
- **–ü—Ä–∏ –Ω–∞—á–∞–ª–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞**: "ü©∫ **–ü–∞—Ü–∏–µ–Ω—Ç [–ò–º—è]** –≤–∑—è—Ç –ø–æ–¥ –Ω–∞–±–ª—é–¥–µ–Ω–∏–µ"
- **–ü—Ä–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞**: "üõë **–ü–∞—Ü–∏–µ–Ω—Ç [–ò–º—è]** —Å–Ω—è—Ç —Å –Ω–∞–±–ª—é–¥–µ–Ω–∏—è"

### 2. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ (–∫–∞–∂–¥—ã–µ 2 –º–∏–Ω—É—Ç—ã)
- **–°—Ç–∞–±–∏–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ**: "‚úÖ **–ü–∞—Ü–∏–µ–Ω—Ç [–ò–º—è]** —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å—Ç–∞–±–∏–ª—å–Ω–æ–µ"
- **–ü—Ä–∏ –ø–∞—Ç–æ–ª–æ–≥–∏–∏**: "‚ö†Ô∏è **–ü–∞—Ü–∏–µ–Ω—Ç [–ò–º—è]** —Ä–∏—Å–∫ –≥–∏–ø–æ–∫—Å–∏–∏, –æ–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ!\n–ü–∞—Ç–æ–ª–æ–≥–∏—è: [–æ–ø–∏—Å–∞–Ω–∏–µ]"

### 3. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –ø—Ä–µ–ø–∞—Ä–∞—Ç–∞—Ö
- **–ü—Ä–∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–∏**: "üíä **–ü–∞—Ü–∏–µ–Ω—Ç [–ò–º—è]** –Ω–∞–∑–Ω–∞—á–µ–Ω [—Å–ø–∏—Å–æ–∫ –ø—Ä–µ–ø–∞—Ä–∞—Ç–æ–≤]"

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
pip install -r requirements.txt
```

### 2. –ü–æ–ª—É—á–µ–Ω–∏–µ Chat ID –≤—Ä–∞—á–∞
1. –ù–∞–π–¥–∏—Ç–µ –±–æ—Ç–∞ –≤ Telegram: `@YourBotName`
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/start`
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–∞—à Chat ID (–æ–±—ã—á–Ω–æ 9-10 —Ü–∏—Ñ—Ä)

### 3. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤—Ä–∞—á–∞ –≤ —Å–∏—Å—Ç–µ–º—É
```bash
curl -X POST "http://localhost:8081/telegram/doctors?chat_id=YOUR_CHAT_ID"
```

### 4. –£–¥–∞–ª–µ–Ω–∏–µ –≤—Ä–∞—á–∞ –∏–∑ —Å–∏—Å—Ç–µ–º—ã
```bash
curl -X DELETE "http://localhost:8081/telegram/doctors/YOUR_CHAT_ID"
```

## API –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Ä–∞—á–∞–º–∏
- `POST /telegram/doctors?chat_id={chat_id}` - –î–æ–±–∞–≤–∏—Ç—å –≤—Ä–∞—á–∞
- `DELETE /telegram/doctors/{chat_id}` - –£–¥–∞–ª–∏—Ç—å –≤—Ä–∞—á–∞

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–∞—Ü–∏–µ–Ω—Ç–æ–∫
- `POST /monitoring/start/{patient_id}` - –ó–∞–ø—É—Å—Ç–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (–æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ)
- `POST /monitoring/stop/{patient_id}` - –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (–æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ)

### –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–µ–ø–∞—Ä–∞—Ç–æ–≤
- `PUT /sim/medications/{patient_id}` - –ù–∞–∑–Ω–∞—á–∏—Ç—å –ø—Ä–µ–ø–∞—Ä–∞—Ç—ã (–æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ)

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 1. –°–æ–∑–¥–∞–Ω–∏–µ –ø–∞—Ü–∏–µ–Ω—Ç–∫–∏ –∏ –∑–∞–ø—É—Å–∫ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
```bash
# –°–æ–∑–¥–∞–µ–º –ø–∞—Ü–∏–µ–Ω—Ç–∫—É
curl -X POST "http://localhost:8081/patients" \
  -H "Content-Type: application/json" \
  -d '{"full_name": "–ê–Ω–Ω–∞ –ü–µ—Ç—Ä–æ–≤–∞", "medications": ["–≥–∏–Ω–∏–ø—Ä–∞–ª"]}'

# –ó–∞–ø—É—Å–∫–∞–µ–º –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (–æ—Ç–ø—Ä–∞–≤–∏—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ)
curl -X POST "http://localhost:8081/monitoring/start/PATIENT_ID"
```

### 2. –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–µ–ø–∞—Ä–∞—Ç–æ–≤
```bash
# –ù–∞–∑–Ω–∞—á–∞–µ–º –ø—Ä–µ–ø–∞—Ä–∞—Ç—ã (–æ—Ç–ø—Ä–∞–≤–∏—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ)
curl -X PUT "http://localhost:8081/sim/medications/PATIENT_ID" \
  -H "Content-Type: application/json" \
  -d '{"medications": ["–º–∞–≥–Ω–µ–∑–∏—è", "–æ–∫—Å–∏—Ç–æ—Ü–∏–Ω"]}'
```

### 3. –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
```bash
# –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (–æ—Ç–ø—Ä–∞–≤–∏—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ)
curl -X POST "http://localhost:8081/monitoring/stop/PATIENT_ID"
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
```bash
python test_telegram_bot.py
```

**–í–ê–ñ–ù–û**: –ü–µ—Ä–µ–¥ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∑–∞–º–µ–Ω–∏—Ç–µ `chat_id` –≤ —Ñ–∞–π–ª–µ `test_telegram_bot.py` –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π ID —á–∞—Ç–∞ –≤—Ä–∞—á–∞.

### –ü—Ä—è–º–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–æ—Ç–∞
```bash
python telegram_bot.py
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

### –§–æ—Ä–º–∞—Ç —Å–æ–æ–±—â–µ–Ω–∏–π
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è HTML —Ä–∞–∑–º–µ—Ç–∫–∞ –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –≠–º–æ–¥–∑–∏ –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è —Ç–∏–ø–æ–≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- –ñ–∏—Ä–Ω—ã–π —à—Ä–∏—Ñ—Ç –¥–ª—è –∏–º–µ–Ω –ø–∞—Ü–∏–µ–Ω—Ç–æ–∫

### –¢–∏–ø—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
1. **ü©∫** - –ù–∞—á–∞–ª–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
2. **üõë** - –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞  
3. **‚úÖ** - –°—Ç–∞–±–∏–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
4. **‚ö†Ô∏è** - –ü–∞—Ç–æ–ª–æ–≥–∏—è/—Ä–∏—Å–∫
5. **üíä** - –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–µ–ø–∞—Ä–∞—Ç–æ–≤

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–æ—Å—Ç–æ—è–Ω–∏—è

### –ü–µ—Ä–∏–æ–¥–∏—á–Ω–æ—Å—Ç—å –ø—Ä–æ–≤–µ—Ä–æ–∫
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –∫–∞–∂–¥—ã–µ 2 –º–∏–Ω—É—Ç—ã
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞—Ç–æ–ª–æ–≥–∏–π –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –ø—Ä–µ–ø–∞—Ä–∞—Ç–∞—Ö –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–∞—Ç–æ–ª–æ–≥–∏–π
- –°–∏—Å—Ç–µ–º–∞ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –ø–æ–ª–µ `pathology` –≤ —Å—Ç—Ä–∏–º–µ –¥–∞–Ω–Ω—ã—Ö
- –ü—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –ø–∞—Ç–æ–ª–æ–≥–∏–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º
- –°–ø–∏—Å–æ–∫ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –ø–∞—Ç–æ–ª–æ–≥–∏–π: –±—Ä–∞–¥–∏–∫–∞—Ä–¥–∏—è, —Ç–∞—Ö–∏–∫–∞—Ä–¥–∏—è, —Å–Ω–∏–∂–µ–Ω–Ω–∞—è –≤–∞—Ä–∏–∞–±–µ–ª—å–Ω–æ—Å—Ç—å, —Ç–∞—Ö–∏—Å–∏—Å—Ç–æ–ª–∏—è

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –¢–æ–∫–µ–Ω –±–æ—Ç–∞
- –¢–æ–∫–µ–Ω –±–æ—Ç–∞: `8231116636:AAEzm1aDfPAo1yXY4Zmv6pjekIqnokk3afs`
- –•—Ä–∞–Ω–∏—Ç—Å—è –≤ –∫–æ–¥–µ (–≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è)

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
- –ë–æ—Ç –º–æ–∂–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –≤—Ä–∞—á–∞–º
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è: 4096 —Å–∏–º–≤–æ–ª–æ–≤
- Rate limiting: –¥–æ 30 —Å–æ–æ–±—â–µ–Ω–∏–π –≤ —Å–µ–∫—É–Ω–¥—É

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ë–æ—Ç –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å —Ç–æ–∫–µ–Ω–∞ –±–æ—Ç–∞
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Ä–∞—á –¥–æ–±–∞–≤–ª–µ–Ω –≤ —Å–∏—Å—Ç–µ–º—É
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Chat ID –≤—Ä–∞—á–∞
4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±–æ—Ç –∑–∞–ø—É—â–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –û—à–∏–±–∫–∏ API
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 8081
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ MongoDB –ø–æ–¥–∫–ª—é—á–µ–Ω–∞
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫

### –ü—Ä–æ–±–ª–µ–º—ã —Å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–∞—Ü–∏–µ–Ω—Ç–∫–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ –ë–î
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∑–∞–ø—É—â–µ–Ω
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å—Ç—Ä–∏–º –¥–∞–Ω–Ω—ã—Ö —Ä–∞–±–æ—Ç–∞–µ—Ç

## –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –±–æ—Ç–∞ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è —Å —É—Ä–æ–≤–Ω–µ–º INFO. –î–ª—è –æ—Ç–ª–∞–¥–∫–∏ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

```python
import logging
logging.basicConfig(level=logging.DEBUG)
```

## –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ç–∏–ø–æ–≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
1. –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–π –º–µ—Ç–æ–¥ –≤ –∫–ª–∞—Å—Å `PatientNotificationSystem`
2. –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–π—Ç–µ –≤—ã–∑–æ–≤ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —ç–Ω–¥–ø–æ–∏–Ω—Ç API
3. –û–±–Ω–æ–≤–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–∏–æ–¥–∏—á–Ω–æ—Å—Ç–∏
–ò–∑–º–µ–Ω–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –º–µ—Ç–æ–¥–µ `_monitor_patient`:
```python
await asyncio.sleep(120)  # 2 –º–∏–Ω—É—Ç—ã –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —ç–º–æ–¥–∑–∏
–û–±–Ω–æ–≤–∏—Ç–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –≤ –º–µ—Ç–æ–¥–∞—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ `telegram_bot.py`.
